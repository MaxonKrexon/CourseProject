@using FreshSight.Controllers
@{
    ViewData["Title"] = "My blog";
    var ProfilePicLink = Model["PicLink"][0][0];
}
<div class="border-bottom">
    <div class="d-inline-flex">
        <img src="@ProfilePicLink" alt="Profile picture" style="border-radius: 75px; height: 150px; width: 150px;">
    </div>
    <div class="d-inline-flex">
        <h3>@User.Identity?.Name</h3> 
    </div>
    <div class="d-inline-flex">
    @if(Model.ContainsKey("Age"))
    {
     <h4>Age: @Model["Age"][0][0]</h4>
    }
    </div>
</div>
<br />
<div class = "row">
    <div class = "col-md-4 border">
        <h3>Tools</h3>
        <ul class="nav nav-pills flex-column">
            <li class="nav-item"><a class="btn btn-info" asp-area="" asp-controller="Post" asp-action="Index" role="button">New post</a></li>
        </ul>
    </div>
    <div id = "posts" class = "col col-md-offset-2">
        <div class="border-bottom border-dark">
            <h3>Your posts</h3>
        </div>
        @if(Model.ContainsKey("Posts")){
        foreach(var post in Model["Posts"]){
            String link = $"https://freshsightcloud.blob.core.windows.net/posts/{post[0]}_thumb";    
                <a class="d-flex flex-row border nav-link text-dark" asp-area=""  asp-for="postId" asp-route-postId="@post[0]" asp-controller="Blog" asp-action="ViewPost">
                <div>
                    <img src="@link" id="@post[0]" style="offset: auto; border-radius: 35px;height: 150px; width: 300px;">
                </div>
                <div style = "offset: auto;">
                    Category: @post[1] <h3>@post[2]</h3>
                </div>
                </a>
        }
        }
    </div>
</div>